{% comment %}
  Modal Component - T-018.6

  Modal dialog with Alpine.js for interactivity.

  Parameters:
    - id: Unique modal identifier for x-data reference (required)
    - title: Modal header title (required)
    - size: sm|md|lg (default: md) - determines max-width
    - class: Additional CSS classes for modal content (optional)

  Blocks:
    - modal_body: Main modal content
    - modal_footer: Footer with action buttons
{% endcomment %}

{% comment %} Modal Backdrop {% endcomment %}
<div class="modal-backdrop"
     x-show="true"
     x-transition:enter="transition ease-out duration-200"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="transition ease-in duration-150"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0"
     @click.self="showModal{{ id }} = false"
     aria-hidden="true">
</div>

{% comment %} Modal Dialog {% endcomment %}
<div class="modal"
     role="dialog"
     aria-modal="true"
     aria-labelledby="modal-title-{{ id }}"
     x-show="true"
     x-transition:enter="transition ease-out duration-200"
     x-transition:enter-start="opacity-0 scale-95"
     x-transition:enter-end="opacity-100 scale-100"
     x-transition:leave="transition ease-in duration-150"
     x-transition:leave-start="opacity-100 scale-100"
     x-transition:leave-end="opacity-0 scale-95"
     @click.self="showModal{{ id }} = false">

  <div class="modal-content {% if size == 'sm' %}max-w-sm{% elif size == 'lg' %}max-w-2xl{% else %}max-w-lg{% endif %} {{ class }}">
    {% comment %} Modal Header {% endcomment %}
    <div class="modal-header">
      <h3 id="modal-title-{{ id }}" class="text-lg font-semibold text-text-primary">{{ title }}</h3>
      <button @click="showModal{{ id }} = false"
              class="text-text-secondary hover:text-text-primary transition-colors"
              aria-label="Fechar modal">
        <i class="bi bi-x-lg text-xl" aria-hidden="true"></i>
      </button>
    </div>

    {% comment %} Modal Body {% endcomment %}
    <div class="modal-body">
      {% block modal_body %}
        {{ body|default:"" }}
      {% endblock %}
    </div>

    {% comment %} Modal Footer {% endcomment %}
    {% if footer or footer_content %}
      <div class="modal-footer">
        {% block modal_footer %}
          {{ footer_content|default:"" }}
        {% endblock %}
      </div>
    {% endif %}
  </div>
</div>
