{% comment %}
  Alert Component - T-018.7

  Alert/notification component with auto-dismiss functionality.

  Parameters:
    - message: Alert message text (required)
    - variant: info|success|warning|danger (default: info)
    - dismissible: Boolean to show close button (default: false)
    - icon: Optional Bootstrap Icon class (auto-selected based on variant if not provided)
    - auto_dismiss: Boolean to auto-dismiss after 5 seconds (default: false)
    - class: Additional CSS classes (optional)
{% endcomment %}

<div class="{% if variant == 'success' %}alert-success{% elif variant == 'warning' %}alert-warning{% elif variant == 'danger' %}alert-danger{% else %}alert-info{% endif %} {{ class }}"
     x-data="{ show: true }"
     x-show="show"
     x-transition:enter="animate-slide-down"
     x-transition:leave="animate-fade-out"
     {% if auto_dismiss %}x-init="setTimeout(() => show = false, 5000)"{% endif %}
     role="alert">

  {% comment %} Icon - auto-select based on variant if not provided {% endcomment %}
  <div class="flex-shrink-0">
    <i class="{% if icon %}{{ icon }}{% elif variant == 'success' %}bi-check-circle-fill{% elif variant == 'warning' %}bi-exclamation-triangle-fill{% elif variant == 'danger' %}bi-exclamation-circle-fill{% else %}bi-info-circle-fill{% endif %} text-lg"></i>
  </div>

  {% comment %} Message {% endcomment %}
  <div class="flex-1">
    {{ message }}
  </div>

  {% comment %} Dismiss Button {% endcomment %}
  {% if dismissible %}
    <button @click="show = false"
            class="flex-shrink-0 text-current hover:opacity-70 transition-opacity"
            aria-label="Fechar">
      <i class="bi bi-x-lg"></i>
    </button>
  {% endif %}
</div>
